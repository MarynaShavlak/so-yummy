{"version":3,"file":"static/js/908.2bfe8018.chunk.js","mappings":"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","sources":["components/OwnRecipes/OwnRecipes.styled.jsx","components/OwnRecipes/OwnRecipes.context.jsx","components/OwnRecipes/OwnRecipesList/OwnRecipesItem/OwnRecipesItem.styled.jsx","components/OwnRecipes/OwnRecipesList/OwnRecipesItem/OwnRecipesItem.props.js","components/OwnRecipes/OwnRecipesList/OwnRecipesItem/OwnRecipesItem.jsx","components/OwnRecipes/OwnRecipesList/OwnRecipesList.styled.jsx","components/OwnRecipes/OwnRecipesList/OwnRecipesList.jsx","components/OwnRecipes/OwnRecipes.jsx","pages/OwnRecipesPage/OwnRecipesPage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Container } from 'components/common/Container.styled';\n\nexport const OwnRecipesSection = styled.section`\n  --section-padding-top: 50px;\n  --section-padding-bottom: 100px;\n  padding-top: var(--section-padding-top);\n  padding-bottom: var(--section-padding-bottom);\n\n  @media screen and (min-width: ${props => props.theme.breakpoints.tablet}) {\n    --section-padding-top: 72px;\n    --section-padding-bottom: 200px;\n  }\n\n  @media screen and (min-width: ${props => props.theme.breakpoints.desktop}) {\n    --section-padding-top: 100px;\n    --section-padding-bottom: 100px;\n  }\n`;\n\nexport const OwnRecipesContainer = styled(Container)``;\n\nexport const OwnRecipesTitle = styled.h2`\n  --title-margin-bottom: 50px;\n\n  margin-bottom: var(--title-margin-bottom);\n\n  font-weight: 600;\n  font-size: 28px;\n  line-height: 1;\n  letter-spacing: -0.02em;\n  font-feature-settings: 'liga' off;\n\n  color: ${({ theme }) => theme.colors.gray[400]};\n\n  @media screen and (min-width: ${props => props.theme.breakpoints.tablet}) {\n    --title-margin-bottom: 100px;\n\n    font-size: 32px;\n  }\n\n  @media screen and (min-width: ${props => props.theme.breakpoints.desktop}) {\n    font-size: 44px;\n  }\n`;\n","import { createContext, useContext } from 'react';\n\nconst OwnRecipesContext = createContext({});\n\nexport function useOwnRecipesContext() {\n  const data = useContext(OwnRecipesContext);\n  return data;\n}\n\nexport default function OwnRecipesContextProvider({ children, value }) {\n  return (\n    <OwnRecipesContext.Provider value={value}>\n      {children}\n    </OwnRecipesContext.Provider>\n  );\n}\n","import styled from '@emotion/styled';\n\nexport const OwnRecipesItemStyled = styled.li``;\n","import PropTypes from 'prop-types';\n\nexport const OwnRecipesItemPropTypes = {\n  recipe: PropTypes.shape({\n    _id: PropTypes.string.isRequired,\n    thumb: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    time: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n  }).isRequired,\n};\n","import { useOwnRecipesContext } from 'components/OwnRecipes/OwnRecipes.context';\nimport RecipeCard from 'components/common/RecipeCard';\nimport { routes } from 'constants/routes';\nimport { OwnRecipesItemStyled } from './OwnRecipesItem.styled';\nimport { OwnRecipesItemPropTypes } from './OwnRecipesItem.props';\n\nexport default function OwnRecipesItem({ recipe }) {\n  const { removeOwnRecipe } = useOwnRecipesContext();\n\n  const removeHandler = async () => {\n    await removeOwnRecipe(recipe._id);\n  };\n\n  return (\n    <OwnRecipesItemStyled>\n      <RecipeCard\n        owner={true}\n        recipe={recipe}\n        onDelete={removeHandler}\n        to={`${routes.RECIPE_PAGE}/${recipe._id}`}\n      />\n    </OwnRecipesItemStyled>\n  );\n}\n\nOwnRecipesItem.propTypes = OwnRecipesItemPropTypes;\n","import styled from '@emotion/styled';\n\nexport const OwnRecipesListStyled = styled.ul`\n  --list-gap: 18px;\n\n  display: flex;\n  flex-direction: column;\n  gap: var(--list-gap);\n\n  @media screen and (min-width: ${props => props.theme.breakpoints.tablet}) {\n    --list-gap: 40px;\n  }\n\n  @media screen and (min-width: ${props => props.theme.breakpoints.desktop}) {\n    --list-gap: 50px;\n  }\n`;\n","import OwnRecipesItem from './OwnRecipesItem/OwnRecipesItem';\n\nimport { OwnRecipesListStyled } from './OwnRecipesList.styled';\n\nexport default function OwnRecipesList({ recipes }) {\n  return (\n    <OwnRecipesListStyled>\n      {recipes?.map(recipe => (\n        <OwnRecipesItem key={recipe._id} recipe={recipe} />\n      ))}\n    </OwnRecipesListStyled>\n  );\n}\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport {\n  OwnRecipesContainer,\n  OwnRecipesSection,\n  OwnRecipesTitle,\n} from './OwnRecipes.styled';\nimport {\n  getOwnRecipesService,\n  removeOwnRecipesService,\n} from 'services/recipe.service';\nimport OwnRecipesList from './OwnRecipesList/OwnRecipesList';\nimport OwnRecipesContextProvider from './OwnRecipes.context';\nimport useAppPagination from 'hooks/useAppPagination';\nimport { processingError } from 'helpers';\nimport { searchRecipesMessage } from 'constants/message';\nimport NotFoundRecipe from 'components/NotFoundRecipe';\nimport MainLoader from 'components/MainLoader/MainLoader';\n\nexport default function OwnRecipes() {\n  const pagination = useRef({\n    page: 1,\n    totalPages: 1,\n  });\n  const [recipesList, setRecipesList] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const getRecipes = useCallback(async (p = 1, l = 4) => {\n    setIsLoading(true);\n\n    try {\n      const { data } = await getOwnRecipesService(p, l);\n      const { recipes, limit, total, page } = data;\n\n      pagination.current.totalPages = Math.ceil(total / limit);\n      pagination.current.page = page;\n\n      setRecipesList(recipes);\n    } catch (error) {\n      processingError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const removeOwnRecipe = useCallback(\n    async recipeId => {\n      const page =\n        recipesList.length === 1\n          ? pagination.current.page === 1\n            ? 1\n            : pagination.current.page - 1\n          : pagination.current.page;\n      await removeOwnRecipesService(recipeId);\n\n      await getRecipes(page);\n    },\n    [getRecipes, recipesList]\n  );\n\n  const { Component: Pagination } = useAppPagination({\n    totalPages: pagination.current.totalPages,\n    page: pagination.current.page,\n    onFetch: getRecipes,\n  });\n\n  useEffect(() => {\n    getRecipes();\n  }, [getRecipes]);\n\n  return (\n    <OwnRecipesSection>\n      <OwnRecipesContainer>\n        <OwnRecipesTitle>My recipes</OwnRecipesTitle>\n        <OwnRecipesContextProvider value={{ removeOwnRecipe }}>\n          {isLoading ? (\n            <MainLoader />\n          ) : recipesList.length > 0 ? (\n            <OwnRecipesList recipes={recipesList} />\n          ) : (\n            <NotFoundRecipe message={searchRecipesMessage.ownRecipesNotFound} />\n          )}\n        </OwnRecipesContextProvider>\n        {pagination.current.totalPages > 1 && <Pagination />}\n      </OwnRecipesContainer>\n    </OwnRecipesSection>\n  );\n}\n","import OwnRecipes from 'components/OwnRecipes/OwnRecipes';\nimport { useScrollToTop } from 'hooks/useScrollToTop';\n\nexport default function OwnRecipesPage() {\n  useScrollToTop();\n  return <OwnRecipes />;\n}\n"],"names":["OwnRecipesSection","styled","section","_templateObject","_taggedTemplateLiteral","props","theme","breakpoints","tablet","desktop","OwnRecipesContainer","Container","_templateObject2","OwnRecipesTitle","h2","_templateObject3","_ref","colors","gray","OwnRecipesContext","createContext","OwnRecipesContextProvider","children","value","_jsx","Provider","OwnRecipesItemStyled","li","PropTypes","_id","isRequired","thumb","title","time","description","OwnRecipesItem","recipe","removeOwnRecipe","useContext","RecipeCard","owner","onDelete","async","to","concat","routes","RECIPE_PAGE","OwnRecipesListStyled","ul","OwnRecipesList","recipes","map","OwnRecipes","pagination","useRef","page","totalPages","recipesList","setRecipesList","useState","isLoading","setIsLoading","getRecipes","useCallback","p","arguments","length","undefined","l","data","getOwnRecipesService","limit","total","current","Math","ceil","error","processingError","removeOwnRecipesService","recipeId","Component","Pagination","useAppPagination","onFetch","useEffect","_jsxs","MainLoader","NotFoundRecipe","message","searchRecipesMessage","ownRecipesNotFound","OwnRecipesPage","useScrollToTop"],"sourceRoot":""}